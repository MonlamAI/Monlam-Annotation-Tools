# ğŸ‘‘ Approval Chain: Approver vs Project Manager

## Clear Distinction Between Two-Level Approval

This guide explains how Project Managers can clearly see which examples are approved by **Approvers** vs **Final Approved by PM**.

---

## ğŸ¯ **Your Question:**
> "is there clear indication between approver approved for project manager"

**Answer:** YES! We now have **clear visual indicators** that distinguish:
- ğŸŸ¡ **Approved by Approver** (needs PM final review)
- ğŸŸ¢ **Final Approved by PM** (complete!)

---

## ğŸ“Š **Two-Level Approval Workflow:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LEVEL 1: APPROVER REVIEW                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚ Annotator submits â†’ Approver reviews                â”‚
â”‚                  â†’ Approver approves/rejects        â”‚
â”‚                                                      â”‚
â”‚ Status: APPROVED (ğŸŸ¡ By Approver)                   â”‚
â”‚ Badge: Orange "âœ“ Approver"                          â”‚
â”‚ Meaning: Needs PM final review                      â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LEVEL 2: PROJECT MANAGER FINAL REVIEW               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚ PM reviews approver's work â†’ PM final approves      â”‚
â”‚                                                      â”‚
â”‚ Status: APPROVED (ğŸŸ¢ By PM)                         â”‚
â”‚ Badge: Purple "ğŸ‘‘ PM FINAL"                         â”‚
â”‚ Meaning: Complete! Ready for production             â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ **Visual Indicators in Enhanced Dataset View**

### **Status Summary Dashboard** (Top of Page)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š Quick Status Summary                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  [â± Assigned: 100]                                    â”‚
â”‚  [ğŸ”µ In Progress: 45]                                 â”‚
â”‚  [ğŸŸ  âš ï¸ Needs Review: 25]          â† Approver          â”‚
â”‚  [ğŸŸ£ ğŸ‘‘ PM Review: 10]              â† PM FINAL!        â”‚
â”‚  [ğŸŸ¢ âœ… Final: 20]                  â† Completed!       â”‚
â”‚  [âŒ Rejected: 5]                                      â”‚
â”‚                                                        â”‚
â”‚  â„¹ï¸ Action Required (Project Manager):                 â”‚
â”‚     10 example(s) approved by approver and awaiting   â”‚
â”‚     PM final review!  [Review Now â†’]                  â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Key Indicators:**
- ğŸŸ£ **PURPLE Badge "ğŸ‘‘ PM Review"** - Approved by approver, needs YOUR (PM) review
- ğŸŸ¢ **GREEN Badge "âœ… Final"** - Final approved by PM (you or another PM)
- â„¹ï¸ **Info Alert** - Shows count of examples awaiting PM review

---

### **Filter Tabs**

```
[All] [Needs Approver Review (25)] [ğŸ‘‘ Needs PM Final Review (10)] [Final Approved (20)] [In Progress] [Rejected]
        â†‘                                      â†‘                          â†‘
   Approver's work                    PM's work (YOU!)           Completed!
```

**For Project Managers:**
- Click **"ğŸ‘‘ Needs PM Final Review"** tab
- Shows ONLY examples approved by approver but not yet by PM
- Count badge shows how many need YOUR attention

---

### **Table Column: "Reviewed By"**

Each row shows **who approved it** and **their role**:

```
â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ID  â”‚ Status     â”‚ Reviewed By                      â”‚ Actions â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 42  â”‚ ğŸŸ  SUBMITTEDâ”‚ â± Awaiting review               â”‚[Review] â”‚â† Approver needed
â”‚ 43  â”‚ âœ… APPROVED â”‚ ğŸ”µ approver01 [âœ“ Approver]       â”‚[Review] â”‚â† PM needed!
â”‚ 44  â”‚ âœ… APPROVED â”‚ ğŸŸ¢ manager01 [ğŸ‘‘ PM FINAL]       â”‚[View]   â”‚â† Done!
â”‚ 45  â”‚ âŒ REJECTED â”‚ ğŸ”´ approver01 [âœ“ Approver]       â”‚[View]   â”‚â† Sent back
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Color Coding:**
- ğŸ”µ **Blue chip + Orange "âœ“ Approver" badge** = Approved by approver (needs PM)
- ğŸŸ¢ **Green chip + Purple "ğŸ‘‘ PM FINAL" badge** = Approved by PM (done!)

**Badge Meanings:**
- [âœ“ Approver] - Level 1 approval done, needs level 2
- [ğŸ‘‘ PM FINAL] - Level 2 approval done, complete!

---

## ğŸ”„ **Complete Two-Level Workflow**

### **Step 1: Annotator Submits**
```
Status: SUBMITTED (ğŸŸ )
Visible to: Approver
Reviewed by: (None yet)
```

### **Step 2: Approver Reviews & Approves**
```
Status: APPROVED (ğŸŸ¡)
Visible to: Project Manager
Reviewed by: approver01 [âœ“ Approver]
Badge color: Blue + Orange badge
Tab: "ğŸ‘‘ Needs PM Final Review"
Alert: "Action Required (Project Manager)"
```

### **Step 3: Project Manager Final Approval**
```
Status: APPROVED (ğŸŸ¢)
Visible to: All (for reference)
Reviewed by: manager01 [ğŸ‘‘ PM FINAL]
Badge color: Green + Purple badge
Tab: "Final Approved"
Alert: (None - complete!)
```

---

## ğŸ¯ **How Project Manager Uses This:**

### **Daily Workflow:**

1. **Open Enhanced Dataset View:**
   ```
   https://annotate.monlam.ai/monlam/9/dataset-enhanced/
   ```

2. **Check Purple Badge:**
   ```
   ğŸŸ£ ğŸ‘‘ PM Review: 10
   ```
   Meaning: **10 examples need YOUR final approval**

3. **Click "ğŸ‘‘ Needs PM Final Review" Tab:**
   - Table filters to show ONLY examples approved by approver
   - All rows have:
     - Status: APPROVED
     - Reviewed by: [approver_name] [âœ“ Approver]
     - Badge: Blue chip + Orange badge

4. **Review Each Example:**
   - Click "Review" button
   - Opens annotation page
   - See what approver approved
   - Verify quality

5. **Final Approve or Send Back:**
   - âœ… Click [Approve] â†’ Your name appears as "ğŸ‘‘ PM FINAL"
   - âŒ Click [Reject] â†’ Goes back to annotator

6. **Track Progress:**
   - Purple badge count decreases as you work
   - Green "âœ… Final" count increases
   - When purple = 0 â†’ All caught up!

---

## ğŸ“Š **Status Meanings for PM:**

| Visual | Status | Meaning | Action |
|--------|--------|---------|--------|
| ğŸŸ  Orange badge "Needs Review" | Submitted | Needs approver review | Wait (approver's job) |
| ğŸŸ£ Purple badge "ğŸ‘‘ PM Review" | Approved by Approver | **Needs YOUR final review** | **REVIEW NOW!** |
| ğŸŸ¢ Green badge "âœ… Final" | Approved by PM | Final approval done | Done! |
| âŒ Red badge "Rejected" | Rejected | Sent back to annotator | Wait for resubmit |

---

## ğŸ¨ **Badge Color System:**

### **In "Reviewed By" Column:**

```
Approver Approval:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”µ approver01  [âœ“ Approver]     â”‚
â”‚    Blue chip   Orange badge      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Meaning: Needs PM review

PM Final Approval:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŸ¢ manager01  [ğŸ‘‘ PM FINAL]     â”‚
â”‚    Dark Green  Purple badge      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Meaning: Complete!
```

---

## ğŸ” **Quick Checks:**

### **Q: How do I see only examples that need MY (PM) review?**
**A:** Click the purple badge or "ğŸ‘‘ Needs PM Final Review" tab.

### **Q: How do I know if an example is fully done?**
**A:** Look for:
- Green chip in "Reviewed By" column
- Purple "ğŸ‘‘ PM FINAL" badge
- Listed in "Final Approved" tab

### **Q: Can approvers do final approval?**
**A:** No. Only Project Managers can do final approval. Approvers see orange "âœ“ Approver" badge on their approvals.

### **Q: What if PM rejects?**
**A:** It goes back to annotator with status "REJECTED". Needs annotator to fix and resubmit. Then approver reviews again, then PM again.

### **Q: Can I see who did the first approval?**
**A:** YES! The "Reviewed By" column shows the approver's name even after PM final approval. (Future enhancement: show full approval history)

---

## ğŸ“ˆ **Progress Tracking:**

Project Manager can track:

1. **Submission Progress:**
   - ğŸŸ  Needs Review count (approver's queue)

2. **Review Progress:**
   - ğŸŸ£ PM Review count (YOUR queue)

3. **Completion:**
   - ğŸŸ¢ Final Approved count (completed work)

**Formula:**
```
Project Completion = (Final Approved / Total Examples) Ã— 100%
```

---

## ğŸš€ **Technical Implementation:**

### **How It Works:**

1. **Database tracks `reviewed_by` user + their role:**
   ```python
   assignment.reviewed_by = approver01
   assignment.reviewed_by_role = "approver"
   ```

2. **When PM approves, it updates:**
   ```python
   assignment.reviewed_by = manager01
   assignment.reviewed_by_role = "project_manager"
   ```

3. **Frontend filters by role:**
   ```javascript
   // Show only approved by approver (needs PM)
   examples.filter(ex => 
     ex.status === 'approved' && 
     ex.reviewed_by_role === 'approver'
   )
   ```

---

## âœ… **Summary:**

**Before this update:**
- âŒ All approvals looked the same
- âŒ PM couldn't tell what needs final review
- âŒ No clear indication of completion

**After this update:**
- âœ… Clear visual distinction (blue vs green chips)
- âœ… Role badges (âœ“ Approver vs ğŸ‘‘ PM FINAL)
- âœ… Separate filter tab for PM review
- âœ… Purple badge shows PM's queue count
- âœ… Clear alerts for PM action needed

**Result:**
**Project Managers can instantly see exactly what needs their final approval!** ğŸ‰

---

## ğŸ“š **Related Guides:**

- **APPROVER_WORKFLOW_GUIDE.md** - For approvers
- **ASSIGNMENT_WORKFLOW_GUIDE.md** - Overall workflow
- **MONLAM_UI_USER_GUIDE.md** - Complete UI guide

---

**Version:** 1.0  
**Last Updated:** 2025-01-06  
**For:** Project Managers

